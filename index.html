<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VIT Bhopal CGPA Calculator</title>
  <meta name="description" content="Ad-free, instant SGPA & CGPA calculator for VIT Bhopal students." />
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: "Inter", sans-serif;
      background: linear-gradient(180deg, #eef2ff 0%, #f8fafc 100%);
      min-height: 100vh;
    }

    .tab-button {
      transition: all 0.3s ease;
      font-weight: 500;
    }
    .tab-button.active {
      background-color: #2563eb;
      color: white;
      font-weight: 600;
    }
    .tab-content {
      display: none;
      animation: fadeIn 0.3s ease-in-out;
    }
    .tab-content.active {
      display: block;
    }
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>

<body class="antialiased flex flex-col min-h-screen">

  <!-- HEADER -->
  <header class="bg-white/70 backdrop-blur-md shadow-sm sticky top-0 z-50">
    <nav class="max-w-4xl mx-auto px-4 py-4 flex justify-between items-center">
      <div class="flex items-center space-x-2">
        <div class="bg-blue-600 text-white w-9 h-9 flex items-center justify-center rounded-lg font-bold">V</div>
        <span class="text-lg sm:text-xl font-bold text-gray-800">VITB CGPA Calculator</span>
      </div>
    </nav>
  </header>

  <!-- MAIN CONTENT -->
  <main class="flex-grow flex justify-center items-start py-10 px-4">
    <div class="w-full max-w-xl bg-white/70 backdrop-blur-md rounded-2xl shadow-lg p-6 sm:p-8 border border-gray-200">

      <h1 class="text-2xl sm:text-3xl font-bold text-center text-blue-700 mb-2">VIT Bhopal</h1>
      <p class="text-center text-gray-700 text-lg mb-6 font-medium">Instant SGPA & CGPA Calculator</p>

      <!-- TABS -->
      <div class="flex bg-gray-100 p-1 rounded-lg mb-6">
        <button id="tab-sgpa-btn" class="tab-button active flex-1 py-2 rounded-md" onclick="showTab('sgpa')">SGPA Calculator</button>
        <button id="tab-cgpa-btn" class="tab-button flex-1 py-2 rounded-md" onclick="showTab('cgpa')">CGPA Calculator</button>
      </div>

      <!-- SGPA TAB -->
      <section id="tab-sgpa" class="tab-content active">
        <p class="text-gray-600 text-center mb-4">Calculate your semester GPA with ease.</p>

        <div class="flex font-semibold text-gray-600 mb-2">
          <span class="w-1/2">Credits</span>
          <span class="w-1/2">Grade</span>
        </div>

        <div id="subject-rows-container" class="space-y-3">
          <div class="subject-row flex items-center space-x-4">
            <input type="number" min="0" step="0.5" placeholder="e.g., 4" class="credits w-1/2 p-3 border-2 rounded-lg focus:ring-blue-500 focus:border-blue-500" />
            <select class="grade w-1/2 p-3 border-2 rounded-lg focus:ring-blue-500 focus:border-blue-500">
              <option value="" disabled selected hidden>Select a grade</option>
              <option value="10">S</option>
              <option value="9">A</option>
              <option value="8">B</option>
              <option value="7">C</option>
              <option value="6">D</option>
              <option value="5">E</option>
              <option value="0">N / FAIL</option>
            </select>
            <button onclick="removeSubjectRow(this)" class="text-red-500 hover:bg-red-100 p-2 rounded-lg">
              âœ–
            </button>
          </div>
        </div>

        <div class="flex flex-col sm:flex-row gap-4 mt-6">
          <button onclick="addSubjectRow()" class="w-full sm:w-1/2 bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700">Add Subject</button>
          <button onclick="calculateSGPA()" class="w-full sm:w-1/2 bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700">Calculate SGPA</button>
        </div>

        <div id="sgpa-result-container" class="hidden text-center mt-6 bg-gray-50 p-5 rounded-xl">
          <p class="text-gray-600">Your Semester GPA:</p>
          <h2 id="sgpa-result" class="text-5xl font-bold text-blue-700 my-2">0.00</h2>
          <p class="text-gray-500">Based on <span id="total-credits-display">0</span> total credits</p>
        </div>
      </section>

      <!-- CGPA TAB -->
      <section id="tab-cgpa" class="tab-content">
        <p class="text-gray-600 text-center mb-4">Combine your previous CGPA and current SGPA.</p>

        <div class="space-y-4">
          <div>
            <label class="font-semibold text-gray-700">Current Overall CGPA</label>
            <input id="current-cgpa" type="number" step="0.01" min="0" max="10" placeholder="e.g., 8.75" class="w-full mt-2 p-3 border-2 rounded-lg focus:ring-blue-500 focus:border-blue-500" />
          </div>
          <div>
            <label class="font-semibold text-gray-700">Total Credits Completed</label>
            <input id="total-credits" type="number" min="0" placeholder="e.g., 72" class="w-full mt-2 p-3 border-2 rounded-lg focus:ring-blue-500 focus:border-blue-500" />
          </div>
          <div>
            <label class="font-semibold text-gray-700">Current Semester SGPA</label>
            <input id="semester-sgpa" type="number" step="0.01" min="0" max="10" placeholder="e.g., 9.2" class="w-full mt-2 p-3 border-2 rounded-lg focus:ring-blue-500 focus:border-blue-500" />
          </div>
          <div>
            <label class="font-semibold text-gray-700">Current Semester Credits</label>
            <input id="semester-credits" type="number" min="0" placeholder="e.g., 21" class="w-full mt-2 p-3 border-2 rounded-lg focus:ring-blue-500 focus:border-blue-500" />
          </div>

          <button onclick="calculateCGPA()" class="w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700">Calculate CGPA</button>

          <div id="cgpa-result-container" class="hidden text-center mt-6 bg-gray-50 p-5 rounded-xl">
            <p class="text-gray-600">Your New Overall CGPA:</p>
            <h2 id="cgpa-result" class="text-5xl font-bold text-blue-700 my-2">0.00</h2>
          </div>
        </div>
      </section>
    </div>
  </main>

  <!-- FOOTER -->
  <footer class="bg-white/70 backdrop-blur-md border-t border-gray-200 text-center py-4 text-sm text-gray-600">
    &copy; 2025 VITB CGPA Calculator â€” Built for Students, Ad-Free Forever ðŸš€
  </footer>

  <!-- JS LOGIC -->
  <script>
    function showTab(tabName) {
      document.querySelectorAll(".tab-content").forEach((tab) => tab.classList.remove("active"));
      document.getElementById(`tab-${tabName}`).classList.add("active");

      document.querySelectorAll(".tab-button").forEach((btn) => btn.classList.remove("active"));
      document.getElementById(`tab-${tabName}-btn`).classList.add("active");
    }

    function addSubjectRow() {
      const container = document.getElementById("subject-rows-container");
      const newRow = document.createElement("div");
      newRow.className = "subject-row flex items-center space-x-4";
      newRow.innerHTML = `
        <input type="number" min="0" step="0.5" placeholder="e.g., 4" class="credits w-1/2 p-3 border-2 rounded-lg focus:ring-blue-500 focus:border-blue-500" />
        <select class="grade w-1/2 p-3 border-2 rounded-lg focus:ring-blue-500 focus:border-blue-500">
          <option value="" disabled selected hidden>Select a grade</option>
          <option value="10">S</option>
          <option value="9">A</option>
          <option value="8">B</option>
          <option value="7">C</option>
          <option value="6">D</option>
          <option value="5">E</option>
          <option value="0">N / FAIL</option>
        </select>
        <button onclick="removeSubjectRow(this)" class="text-red-500 hover:bg-red-100 p-2 rounded-lg">âœ–</button>`;
      container.appendChild(newRow);
    }

    function removeSubjectRow(button) {
      const rows = document.querySelectorAll("#subject-rows-container .subject-row");
      if (rows.length > 1) button.parentElement.remove();
      else {
        const inputs = button.parentElement.querySelectorAll("input, select");
        inputs.forEach((el) => (el.value = ""));
      }
    }

    function calculateSGPA() {
      const rows = document.querySelectorAll("#subject-rows-container .subject-row");
      let totalPoints = 0, totalCredits = 0;
      rows.forEach((row) => {
        const credits = parseFloat(row.querySelector(".credits").value);
        const grade = parseFloat(row.querySelector(".grade").value);
        if (!isNaN(credits) && !isNaN(grade)) {
          totalPoints += credits * grade;
          totalCredits += credits;
        }
      });

      const resultContainer = document.getElementById("sgpa-result-container");
      const result = document.getElementById("sgpa-result");
      const totalDisplay = document.getElementById("total-credits-display");

      if (totalCredits > 0) {
        const sgpa = totalPoints / totalCredits;
        result.textContent = sgpa.toFixed(2);
        totalDisplay.textContent = totalCredits;
        resultContainer.classList.remove("hidden");
        localStorage.setItem("savedSGPA", sgpa.toFixed(2));
      } else {
        alert("Please enter valid credits and grades!");
      }
    }

    function calculateCGPA() {
      const currentCGPA = parseFloat(document.getElementById("current-cgpa").value);
      const totalCredits = parseFloat(document.getElementById("total-credits").value);
      const semesterSGPA = parseFloat(document.getElementById("semester-sgpa").value);
      const semesterCredits = parseFloat(document.getElementById("semester-credits").value);

      if ([currentCGPA, totalCredits, semesterSGPA, semesterCredits].some(isNaN)) {
        alert("Please fill in all fields correctly.");
        return;
      }

      const newCGPA = ((currentCGPA * totalCredits) + (semesterSGPA * semesterCredits)) / (totalCredits + semesterCredits);
      const resultContainer = document.getElementById("cgpa-result-container");
      const result = document.getElementById("cgpa-result");
      result.textContent = newCGPA.toFixed(2);
      resultContainer.classList.remove("hidden");
    }

    document.addEventListener("DOMContentLoaded", () => {
      localStorage.removeItem("savedSGPA");
    });
  </script>
</body>
</html>
